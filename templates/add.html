{% extends "base.html" %}

{% block title %}Add Page{% endblock %}

{% block header %}
    <h1>Add a Job Application</h1>
    {% include "components/back-link.html" %}
{% endblock %}

{% block styles %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--Need this in order for media query in css file to work-->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/add.css') }}">
{% endblock %}

{% block singout_button%}
    <a class="signout-link" href="{{url_for('signin')}}">
        <button>
            <img src="{{ url_for('static', filename='images/signout-icon.png') }}" />
        </button>
    </a>
{% endblock %}

{% block content %}
    <article>
        <!-- Information about required fields-->
        <p><span class="required">*</span> indicates required fields</p>

        <form method="POST" action="{{url_for('add_post')}}">
            {% if count==0 %}
                <label for="titleInput">Job Title: <span class="required">*</span></label>
                <input type="text" id="titleInput" name="job_title" required/>
                <br/>
                <label for="companyInput">Company: <span class="required">*</span></label>
                <input type="text" id="companyInput" name="company" required/>
                <br/>
                <label for="locationInput">Location: <span class="required">*</span></label>
                <div class="select-box-location">
                    <div class="select-option">
                        <input type="text" id="locationInput" name="location" readonly>
                    </div>
                    <div class="content">
                        <div class="search">
                            <input type="text" id="optionSearch" placeholder="Search" name="">
                        </div>
                        <ul class="options">
                            {% for location in locations %}
                                <li>{{location}}</li>
                            {% endfor %}
                            <li>Remote</li>
                            <li>Other Countries</li>
                        </ul>
                    </div>        
                </div>
                <br/>
                <label for="linkInput">Link (to the job description):</label>
                <input type="text" id="linkInput" name="link"/>
                <br/>
                <label for="stageInput">Stage: <span class="required">*</span></label>
                <div class="select-box-stage">
                    <div class="select-option">
                        <input type="text" id="stageInput" name="stage" readonly>
                    </div>
                    <div class="content">
                        <div class="search">
                            <input type="text" id="optionSearch" placeholder="Search" name="">
                        </div>
                        <ul class="options">
                            <li>Job Opening</li>
                            <li>Applied</li>
                            <li>Phone/Video Screening Interview</li>
                            <li>Online Assessment</li>
                            <li>Interview</li>
                            <li>Job Offer</li>
                            <li>Offer Accepted</li>
                            <li>Offer Declined</li>
                            <li>Rejection</li>
                        </ul>
                    </div>        
                </div>


                <br/>
                <label for="timeInput" id="timeLabel" style="display: none;">Date/DDL (enter a valid date in YYYY/MM/DD format):<span class="required">*</span></label>
                <input type="text" id="timeInput" name="time" style="display:none;"/>
                <br/>
                <input type="submit" value="Save"/>
            {% else %}
                <label for="titleInput">Job Title: <span class="required">*</span></label>
                <input type="text" id="titleInput" name="job_title" value="{{doc.job_title}}" required/>
                <br/>
                <label for="companyInput">Company: <span class="required">*</span></label>
                <input type="text" id="companyInput" name="company" value="{{doc.company}}" required/>
                <br/>
                <label for="locationInput">Location: <span class="required">*</span></label>
                <div class="select-box-location">
                    <div class="select-option">
                        <input type="text" id="locationInput" name="location" value="{{doc.location}}" readonly>
                    </div>
                    <div class="content">
                        <div class="search">
                            <input type="text" id="optionSearch" placeholder="Search" name="">
                        </div>
                        <ul class="options">
                            {% for location in locations %}
                                <li>{{location}}</li>
                            {% endfor %}
                            <li>Remote</li>
                            <li>Other Countries</li>
                        </ul>
                    </div>        
                </div>
                <br/>
                <label for="linkInput">Link (to the job description):</label>
                <input type="text" id="linkInput" name="link" value="{{doc.link}}"/>
                <br/>
                <label for="stageInput">Stage: <span class="required">*</span></label>
                <div class="select-box-stage">
                    <div class="select-option">
                        <input type="text" id="stageInput" name="stage" readonly>
                    </div>
                    <div class="content">
                        <div class="search">
                            <input type="text" id="optionSearch" placeholder="Search" name="">
                        </div>
                        <ul class="options">
                            <li>Job Opening</li>
                            <li>Applied</li>
                            <li>Phone/Video Screening Interview</li>
                            <li>Online Assessment</li>
                            <li>Interview</li>
                            <li>Job Offer</li>
                            <li>Offer Accepted</li>
                            <li>Offer Declined</li>
                            <li>Rejection</li>
                        </ul>
                    </div>        
                </div>
                <br/>
                <label for="timeInput" id="timeLabel" style="display: none;">Date/DDL (enter a valid date in YYYY/MM/DD format):<span class="required">*</span></label>
                <input type="text" id="timeInput" name="time" style="display:none;"/>
                <br/>
                <input type="submit" value="Save"/>
            {% endif %}
        </form>
    </article>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}